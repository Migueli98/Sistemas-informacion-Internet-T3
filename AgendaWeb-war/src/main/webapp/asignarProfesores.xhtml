<ui:composition template="/WEB-INF/templates/plantilla.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

	<ui:define name="title">Asignar Profesores</ui:define>
	<ui:define name="content">
		<c:choose>
			<c:when test="#{controlAutorizacion.getEmail().getRol() == 'ADMIN' }">

				<h1>Asignar profesor</h1>
				<h:form id="controlAutorizacion">
				<div class="bordeTablaActividades">
				
					<table id="tablaListaActividades">
						<thead>
							<tr>
								<th>Informe</th>
								<th>Actividad</th>
								<th>Alumno</th>
								<th>Profesor asociado</th>
							</tr>
						</thead>


						<tbody>
							<ui:repeat var="i" value="#{controladorValoraciones.inicializarInformes()}">
								<tr>
									<td><h:outputText value = "#{i.idInforme}"/></td>
									<td><h:outputText value = "#{i.actividades.nombreActividad}"/></td>
									<td><h:outputText value = "#{i.alumno.nombre}"/></td>
									<td><h:outputText value = "#{i.profesorAsociado.nombre}"/></td>
									<td><h:commandButton styleClass="btnGuardar" value="Asignar profesor"
													action="#{controladorValoraciones.asignarProfesor(i.idInforme)}" /></td>

								</tr>


							</ui:repeat>
						</tbody>
					</table>

				</div>
				</h:form>
				
			</c:when>

			<c:otherwise>
				<ui:include src="/WEB-INF/templates/errorAutorizacion.xhtml" />
			</c:otherwise>
		</c:choose>
	</ui:define>
</ui:composition>
