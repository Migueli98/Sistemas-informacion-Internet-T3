CREATE TABLE ACTIVIDADES (IDACTIVIDAD BIGINT NOT NULL, DESCRIPCION VARCHAR(255), ESTADO VARCHAR(255), FECHAACTIVIDAD DATE NOT NULL, LUGARREALIZACION VARCHAR(255) NOT NULL, NOMBREACTIVIDAD VARCHAR(255) NOT NULL, TIPOACTIVIDAD VARCHAR(255) NOT NULL, PRIMARY KEY (IDACTIVIDAD))
CREATE TABLE USUARIO (ID BIGINT NOT NULL, DTYPE VARCHAR(31), APELLIDO VARCHAR(255), CONTRASEÑA VARCHAR(255) NOT NULL, EMAIL VARCHAR(255) NOT NULL, NOMBRE VARCHAR(255), ROL VARCHAR(255), CIUDAD VARCHAR(255) NOT NULL, DIRECCION VARCHAR(255) NOT NULL, NOMBREONG VARCHAR(255) NOT NULL, PAGINAWEB VARCHAR(255), PAIS VARCHAR(255) NOT NULL, TELEFONO VARCHAR(255), CREDITOS INTEGER NOT NULL, HORASLIBRE INTEGER, CV BIGINT, DEPARTAMENTO VARCHAR(255) NOT NULL, PRIMARY KEY (ID))
CREATE TABLE SERVICIOS (CODIGOSERVICIO BIGINT NOT NULL, DESCRIPCION VARCHAR(255), NOMBRE VARCHAR(255) NOT NULL, NUMHORAS INTEGER NOT NULL, NUMPARTICIPANTES INTEGER, TIPOSERVICIO VARCHAR(255) NOT NULL, ZONA VARCHAR(255) NOT NULL, ONG BIGINT, PRIMARY KEY (CODIGOSERVICIO))
CREATE TABLE ASIGNATURAS (CODIGOASIGNATURA BIGINT NOT NULL, CREDITOS INTEGER NOT NULL, NOMBREASIGNATURA VARCHAR(255) NOT NULL, centro BIGINT, PRIMARY KEY (CODIGOASIGNATURA))
CREATE TABLE CENTRO (CODIGOCENTRO BIGINT NOT NULL, NOMBRECENTRO VARCHAR(255) NOT NULL, PRIMARY KEY (CODIGOCENTRO))
CREATE TABLE CURRICULUM (ID BIGINT NOT NULL, DISPONIBILIDADHORARIA VARCHAR(255) NOT NULL, EXPERIENCIALABORAL VARCHAR(255) NOT NULL, IDIOMAS VARCHAR(255) NOT NULL, PRIMARY KEY (ID))
CREATE TABLE REQUISITOS (ID BIGINT NOT NULL, DISPONIBILIDADHORARIA DATE NOT NULL, EXPERIENCIALABORAL VARCHAR(255) NOT NULL, IDIOMAS VARCHAR(255) NOT NULL, servicio BIGINT, PRIMARY KEY (ID))
CREATE TABLE USUARIO_ASIGNATURAS (estaCursando_ID BIGINT NOT NULL, matriculadoEn_CODIGOASIGNATURA BIGINT NOT NULL, imparte_CODIGOASIGNATURA BIGINT NOT NULL, impartidoPor_ID BIGINT NOT NULL, PRIMARY KEY (estaCursando_ID, matriculadoEn_CODIGOASIGNATURA, imparte_CODIGOASIGNATURA, impartidoPor_ID))
CREATE TABLE REQUISITOS_ASIGNATURAS (requieren_CODIGOASIGNATURA BIGINT NOT NULL, compuestoDe_ID BIGINT NOT NULL, PRIMARY KEY (requieren_CODIGOASIGNATURA, compuestoDe_ID))
CREATE TABLE CURRICULUM_ASIGNATURAS (compuestoDe_CODIGOASIGNATURA BIGINT NOT NULL, incluidasEn_ID BIGINT NOT NULL, PRIMARY KEY (compuestoDe_CODIGOASIGNATURA, incluidasEn_ID))
ALTER TABLE USUARIO ADD CONSTRAINT FK_USUARIO_CV FOREIGN KEY (CV) REFERENCES CURRICULUM (ID)
ALTER TABLE SERVICIOS ADD CONSTRAINT FK_SERVICIOS_ONG FOREIGN KEY (ONG) REFERENCES USUARIO (ID)
ALTER TABLE ASIGNATURAS ADD CONSTRAINT FK_ASIGNATURAS_centro FOREIGN KEY (centro) REFERENCES CENTRO (CODIGOCENTRO)
ALTER TABLE REQUISITOS ADD CONSTRAINT FK_REQUISITOS_servicio FOREIGN KEY (servicio) REFERENCES SERVICIOS (CODIGOSERVICIO)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT FK_USUARIO_ASIGNATURAS_imparte_CODIGOASIGNATURA FOREIGN KEY (imparte_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT USUARIO_ASIGNATURAS_matriculadoEn_CODIGOASIGNATURA FOREIGN KEY (matriculadoEn_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT FK_USUARIO_ASIGNATURAS_impartidoPor_ID FOREIGN KEY (impartidoPor_ID) REFERENCES USUARIO (ID)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT FK_USUARIO_ASIGNATURAS_estaCursando_ID FOREIGN KEY (estaCursando_ID) REFERENCES USUARIO (ID)
ALTER TABLE REQUISITOS_ASIGNATURAS ADD CONSTRAINT REQUISITOS_ASIGNATURAS_requieren_CODIGOASIGNATURA FOREIGN KEY (requieren_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
ALTER TABLE REQUISITOS_ASIGNATURAS ADD CONSTRAINT FK_REQUISITOS_ASIGNATURAS_compuestoDe_ID FOREIGN KEY (compuestoDe_ID) REFERENCES REQUISITOS (ID)
ALTER TABLE CURRICULUM_ASIGNATURAS ADD CONSTRAINT FK_CURRICULUM_ASIGNATURAS_incluidasEn_ID FOREIGN KEY (incluidasEn_ID) REFERENCES CURRICULUM (ID)
ALTER TABLE CURRICULUM_ASIGNATURAS ADD CONSTRAINT CURRICULUM_ASIGNATURAScompuestoDe_CODIGOASIGNATURA FOREIGN KEY (compuestoDe_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
