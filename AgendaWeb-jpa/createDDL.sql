CREATE TABLE ACTIVIDADES (IDACTIVIDAD BIGINT NOT NULL, DESCRIPCION VARCHAR(255), ESTADO VARCHAR(255), FECHAFINACTIVIDAD DATE, FECHAINICIOACTIVIDAD DATE NOT NULL, LUGARREALIZACION VARCHAR(255) NOT NULL, NOMBREACTIVIDAD VARCHAR(255) NOT NULL, TIPOACTIVIDAD VARCHAR(255) NOT NULL, servicio BIGINT, PRIMARY KEY (IDACTIVIDAD))
CREATE TABLE USUARIO (EMAIL VARCHAR(255) NOT NULL, DTYPE VARCHAR(31), APELLIDO VARCHAR(255), CONTRASEÑA VARCHAR(255) NOT NULL, NOMBRE VARCHAR(255), ROL VARCHAR(255), CIUDAD VARCHAR(255) NOT NULL, DIRECCION VARCHAR(255) NOT NULL, NOMBREONG VARCHAR(255) NOT NULL, PAGINAWEB VARCHAR(255), PAIS VARCHAR(255) NOT NULL, TELEFONO VARCHAR(255), CREDITOS INTEGER NOT NULL, HORASLIBRE INTEGER, DEPARTAMENTO VARCHAR(255) NOT NULL, PRIMARY KEY (EMAIL))
CREATE TABLE SERVICIOS (CODIGOSERVICIO BIGINT NOT NULL, DESCRIPCION VARCHAR(255), DISPONIBILIDADHORARIA INTEGER, EXPERIENCIALABORAL VARCHAR(255), IDIOMAS INTEGER, NOMBRE VARCHAR(255) NOT NULL, NUMHORAS INTEGER NOT NULL, NUMPARTICIPANTES INTEGER, TIPOSERVICIO VARCHAR(255) NOT NULL, ZONA VARCHAR(255) NOT NULL, ong VARCHAR(255), PRIMARY KEY (CODIGOSERVICIO))
CREATE TABLE ASIGNATURAS (CODIGOASIGNATURA BIGINT NOT NULL, CREDITOS INTEGER NOT NULL, NOMBREASIGNATURA VARCHAR(255) NOT NULL, centro BIGINT, PRIMARY KEY (CODIGOASIGNATURA))
CREATE TABLE CENTRO (CODIGOCENTRO BIGINT NOT NULL, NOMBRECENTRO VARCHAR(255) NOT NULL, PRIMARY KEY (CODIGOCENTRO))
CREATE TABLE CURRICULUM (ID BIGINT NOT NULL, DISPONIBILIDADHORARIA INTEGER NOT NULL, EXPERIENCIALABORAL VARCHAR(255) NOT NULL, IDIOMAS INTEGER NOT NULL, ALUMNO_EMAIL VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE INFORMEACTIVIDADES (IDINFORME BIGINT NOT NULL, INFORMEONG VARCHAR(255), INFORMEPROFESOR VARCHAR(255), VALORACIONALUMNO VARCHAR(255), actividades BIGINT, alumno VARCHAR(255), profesorAsociado VARCHAR(255), PRIMARY KEY (IDINFORME))
CREATE TABLE INSCRIPCIONES (IDACTIVIDAD BIGINT NOT NULL, EMAILUSUARIO VARCHAR(255) NOT NULL, ESTADO VARCHAR(255), FECHAINSCRIPCCION DATE NOT NULL, actividad BIGINT, usuario VARCHAR(255), PRIMARY KEY (IDACTIVIDAD, EMAILUSUARIO))
CREATE TABLE SERVICIOS_ASIGNATURAS (servicios_CODIGOSERVICIO BIGINT NOT NULL, asignaturas_CODIGOASIGNATURA BIGINT NOT NULL, PRIMARY KEY (servicios_CODIGOSERVICIO, asignaturas_CODIGOASIGNATURA))
CREATE TABLE USUARIO_ASIGNATURAS (estaCursando_EMAIL VARCHAR(255) NOT NULL, matriculadoEn_CODIGOASIGNATURA BIGINT NOT NULL, imparte_CODIGOASIGNATURA BIGINT NOT NULL, impartidoPor_EMAIL VARCHAR(255) NOT NULL, PRIMARY KEY (estaCursando_EMAIL, matriculadoEn_CODIGOASIGNATURA, imparte_CODIGOASIGNATURA, impartidoPor_EMAIL))
CREATE TABLE CURRICULUM_ASIGNATURAS (compuestoDe_CODIGOASIGNATURA BIGINT NOT NULL, incluidasEn_ID BIGINT NOT NULL, PRIMARY KEY (compuestoDe_CODIGOASIGNATURA, incluidasEn_ID))
ALTER TABLE ACTIVIDADES ADD CONSTRAINT FK_ACTIVIDADES_servicio FOREIGN KEY (servicio) REFERENCES SERVICIOS (CODIGOSERVICIO)
ALTER TABLE SERVICIOS ADD CONSTRAINT FK_SERVICIOS_ong FOREIGN KEY (ong) REFERENCES USUARIO (EMAIL)
ALTER TABLE ASIGNATURAS ADD CONSTRAINT FK_ASIGNATURAS_centro FOREIGN KEY (centro) REFERENCES CENTRO (CODIGOCENTRO)
ALTER TABLE CURRICULUM ADD CONSTRAINT FK_CURRICULUM_ALUMNO_EMAIL FOREIGN KEY (ALUMNO_EMAIL) REFERENCES USUARIO (EMAIL)
ALTER TABLE INFORMEACTIVIDADES ADD CONSTRAINT FK_INFORMEACTIVIDADES_alumno FOREIGN KEY (alumno) REFERENCES USUARIO (EMAIL)
ALTER TABLE INFORMEACTIVIDADES ADD CONSTRAINT FK_INFORMEACTIVIDADES_actividades FOREIGN KEY (actividades) REFERENCES ACTIVIDADES (IDACTIVIDAD)
ALTER TABLE INFORMEACTIVIDADES ADD CONSTRAINT FK_INFORMEACTIVIDADES_profesorAsociado FOREIGN KEY (profesorAsociado) REFERENCES USUARIO (EMAIL)
ALTER TABLE INSCRIPCIONES ADD CONSTRAINT FK_INSCRIPCIONES_usuario FOREIGN KEY (usuario) REFERENCES USUARIO (EMAIL)
ALTER TABLE INSCRIPCIONES ADD CONSTRAINT FK_INSCRIPCIONES_actividad FOREIGN KEY (actividad) REFERENCES ACTIVIDADES (IDACTIVIDAD)
ALTER TABLE SERVICIOS_ASIGNATURAS ADD CONSTRAINT FK_SERVICIOS_ASIGNATURAS_servicios_CODIGOSERVICIO FOREIGN KEY (servicios_CODIGOSERVICIO) REFERENCES SERVICIOS (CODIGOSERVICIO)
ALTER TABLE SERVICIOS_ASIGNATURAS ADD CONSTRAINT SERVICIOS_ASIGNATURAS_asignaturas_CODIGOASIGNATURA FOREIGN KEY (asignaturas_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT FK_USUARIO_ASIGNATURAS_imparte_CODIGOASIGNATURA FOREIGN KEY (imparte_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT FK_USUARIO_ASIGNATURAS_estaCursando_EMAIL FOREIGN KEY (estaCursando_EMAIL) REFERENCES USUARIO (EMAIL)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT FK_USUARIO_ASIGNATURAS_impartidoPor_EMAIL FOREIGN KEY (impartidoPor_EMAIL) REFERENCES USUARIO (EMAIL)
ALTER TABLE USUARIO_ASIGNATURAS ADD CONSTRAINT USUARIO_ASIGNATURAS_matriculadoEn_CODIGOASIGNATURA FOREIGN KEY (matriculadoEn_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
ALTER TABLE CURRICULUM_ASIGNATURAS ADD CONSTRAINT FK_CURRICULUM_ASIGNATURAS_incluidasEn_ID FOREIGN KEY (incluidasEn_ID) REFERENCES CURRICULUM (ID)
ALTER TABLE CURRICULUM_ASIGNATURAS ADD CONSTRAINT CURRICULUM_ASIGNATURAScompuestoDe_CODIGOASIGNATURA FOREIGN KEY (compuestoDe_CODIGOASIGNATURA) REFERENCES ASIGNATURAS (CODIGOASIGNATURA)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
